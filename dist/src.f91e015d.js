parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"m1bf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randXY=exports.SURROUND_CHECKS=exports.SHIP_LENGTHS=exports.SHIP_TYPES=void 0;var r=["carrier","battleship","cruiser","submarine","destroyer"];exports.SHIP_TYPES=r;var e={carrier:5,battleship:4,cruiser:3,submarine:3,destroyer:2};exports.SHIP_LENGTHS=e;var t=[[-1,0],[0,-1],[0,1],[1,0]];exports.SURROUND_CHECKS=t;var o=function(){return[Math.floor(7*Math.random()),Math.floor(7*Math.random())]};exports.randXY=o;
},{}],"mOu6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../helpers/helpers"),e=function(e){var n=e,r=t.SHIP_LENGTHS[e],i=new Array(r).fill(null),o="horizontal";return{getParts:function(){return i},getOrientation:function(){return o},id:n,length:r,parts:i,orientation:o,hit:function(t){i[t]="hit"},isSunk:function(){return!i.includes(null)},flip:function(){o="horizontal"===o?"vertical":"horizontal"}}},n=e;exports.default=n;
},{"../helpers/helpers":"m1bf"}],"QhX3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../helpers/helpers"),t=n(require("./ship"));function n(r){return r&&r.__esModule?r:{default:r}}function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function o(r,t){return f(r)||a(r,t)||i(r,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(r,t){if(r){if("string"==typeof r)return l(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(r,t):void 0}}function l(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function a(r,t){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,o,u=[],i=!0,l=!1;try{for(n=n.call(r);!(i=(e=n.next()).done)&&(u.push(e.value),!t||u.length!==t);i=!0);}catch(a){l=!0,o=a}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return u}}function f(r){if(Array.isArray(r))return r}var c=function(){for(var n=[],u=[],i=0;i<8;i++){n[i]=[];for(var l=0;l<8;l++)n[i][l]=null}var a=function(r,t,e){var o=function(r,t,e){for(var o=0;o<r.length;o++){if(!(t<=7&&e<=7&&t>=0&&e>=0&&null===n[t][e]))return!1;"horizontal"!==r.getOrientation()?t++:e++}return!0}(r,t,e);if(o){for(var i=0;i<r.length;i++)n[t][e]={ship:r,index:i},"horizontal"!==r.getOrientation()?t++:e++;u.push(r)}return o},f=function(t){var n=o((0,r.randXY)(),2),e=n[0],u=n[1];for(Math.random()>.5&&t.flip();!a(t,e,u);){var i=o((0,r.randXY)(),2);e=i[0],u=i[1],Math.random()>.5&&t.flip()}return!0};return{board:n,placeShip:a,getBoard:function(){return n},receiveAttack:function(r,t){return r>7||r<0||t>7||t<0?[!1,"OUT"]:"HIT"===n[r][t]||"SUNK"===n[r][t]||"MISS"===n[r][t]?[!1,n[r][t]]:null===n[r][t]?(n[r][t]="MISS",[!0,n[r][t]]):"object"!==e(n[r][t])||null===n[r][t]||Array.isArray(n[r][t])?void 0:(n[r][t].ship.hit(n[r][t].index),n[r][t].ship.isSunk()?n[r][t]="SUNK":n[r][t]="HIT",[!0,n[r][t]])},areAllShipsPlaced:function(){return u.length===r.SHIP_TYPES.length},autoPlaceShip:f,areAllShipsSunk:function(){return u.every(function(r){return r.isSunk()})},autoPlaceFleet:function(){return r.SHIP_TYPES.forEach(function(r){if(!f(new t.default(r)))return!1}),!0}}},p=c;exports.default=p;
},{"../helpers/helpers":"m1bf","./ship":"mOu6"}],"TR5A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../helpers/helpers");function e(r,e){return n(r)||c(r,e)||t(r,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r,e){if(r){if("string"==typeof r)return o(r,e);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?Array.from(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(r,e):void 0}}function o(r,e){(null==e||e>r.length)&&(e=r.length);for(var i=0,t=new Array(e);i<e;i++)t[i]=r[i];return t}function c(r,e){var i=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=i){var t,o,c=[],n=!0,s=!1;try{for(i=i.call(r);!(n=(t=i.next()).done)&&(c.push(t.value),!e||c.length!==e);n=!0);}catch(a){s=!0,o=a}finally{try{n||null==i.return||i.return()}finally{if(s)throw o}}return c}}function n(r){if(Array.isArray(r))return r}var s=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"human",t={continueAI:!1,firstDirShipCoords:[],secondDirShipCoords:[],isAxisFound:!1,correctAxis:null,surroundCheck:0,checkDirection:"backwards",isFirstDirChecked:!1},o=function(){t.continueAI=!1,t.surroundCheck=0,t.isAxisFound=!1,t.correctAxis="",t.firstDirShipCoords=[],t.secondDirShipCoords=[],t.checkDirection="backwards",t.isFirstDirChecked=!1},c=function(r){return t.continueAI?t.isAxisFound?a(r):s(r):n(r),!0},n=function(i){for(var o=e((0,r.randXY)(),2),c=o[0],n=o[1];!i.receiveAttack(c,n)[0];){var s=e((0,r.randXY)(),2);c=s[0],n=s[1]}return"HIT"===i.getBoard()[c][n]&&(t.continueAI=!0,t.firstDirShipCoords.push([c,n]),t.secondDirShipCoords.push([c,n])),!0},s=function(e){var i=t.firstDirShipCoords[0][0]+r.SURROUND_CHECKS[t.surroundCheck][0],n=t.firstDirShipCoords[0][1]+r.SURROUND_CHECKS[t.surroundCheck][1];for(t.surroundCheck++;!e.receiveAttack(i,n)[0];)if(i=t.firstDirShipCoords[0][0]+r.SURROUND_CHECKS[t.surroundCheck][0],n=t.firstDirShipCoords[0][1]+r.SURROUND_CHECKS[t.surroundCheck][1],t.surroundCheck++,t.surroundCheck>4)return o(),void c();if("HIT"===e.getBoard()[i][n])switch(t.firstDirShipCoords.push([i,n]),t.isAxisFound=!0,t.surroundCheck-1){case 0:t.correctAxis="y",t.checkDirection="backwards";break;case 3:t.correctAxis="y",t.checkDirection="forward";break;case 1:t.correctAxis="x",t.checkDirection="backwards";break;case 2:t.correctAxis="x",t.checkDirection="forward"}else"SUNK"===e.getBoard()[i][n]&&o();return!1},a=function(r){var i,n;if(!1===t.isFirstDirChecked){var s=e(t.firstDirShipCoords.slice(-1)[0],2);i=s[0],n=s[1],t.firstDirCount++}else{var a=e(t.secondDirShipCoords.slice(-1)[0],2);i=a[0],n=a[1],t.secondDirCount++}if("x"===t.correctAxis?"forward"===t.checkDirection?n++:n--:"y"===t.correctAxis&&("forward"===t.checkDirection?i++:i--),!r.receiveAttack(i,n)[0])return t.isFirstDirChecked?(o(),void c(r)):(t.isFirstDirChecked=!0,t.checkDirection="forward"===t.checkDirection?"backwards":"forward",void c(r));switch(r.receiveAttack(i,n)[1]){case"MISS":t.isFirstDirChecked?o():(t.isFirstDirChecked=!0,t.checkDirection="forward"===t.checkDirection?"backwards":"forward");break;case"HIT":t.isFirstDirChecked?t.secondDirShipCoords.push([i,n]):t.firstDirShipCoords.push([i,n]);break;case"SUNK":o()}};return{attack:function(r,e,i){return r.receiveAttack(e,i)[0]},autoAttack:c,getType:function(){return i}}},a=s;exports.default=a;
},{"../helpers/helpers":"m1bf"}],"DYmX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../helpers/helpers");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){var r=function(e,a,r,t){var n=document.createElement("div");return n.classList.add("cell","".concat(r)),n.dataset.x=e,n.dataset.y=a,n},t=function(a){var r=document.createElement("div");r.classList.add(a),r.classList.add("draggable-ship"),r.dataset.orientation="horizontal",r.dataset.name=a;for(var t=e.SHIP_LENGTHS[a],n=0;n<=t-1;n++){var o=document.createElement("div");o.classList.add("ship-draggable-cell"),o.classList.add(a),o.dataset.index=n,r.append(o)}return r};return{renderGrid:function(e,t,n){var o=document.querySelector("#board-".concat(e));o.innerHTML="",o.style.display="grid";for(var c=0;c<=7;c++)for(var d=0;d<=7;d++){var s=void 0;switch(t.board[c][d]){case"MISS":s="miss";break;case"HIT":s="hit";break;case"SUNK":s="sunk";break;default:s="hidden"}n||"object"!==a(t.board[c][d])||null===t.board[c][d]||Array.isArray(t.board[c][d])||(s=t.board[c][d].ship.id),o.append(r(c,d,s))}},renderDraggableShips:function(a){var r=document.querySelector("#dragable-ships-".concat(a));r.style.display="flex",r.innerHTML="",r.classList.add("draggable-ships-area"),e.SHIP_TYPES.forEach(function(e){var a=t(e);r.append(a)})},renderWinner:function(e){var a=document.querySelector("#board-".concat(e)),r=document.createElement("div");r.innerText="Player ".concat(e," won the game !"),r.classList.add("won"),a.style.display="block",a.innerHTML="",a.append(r);var t=1===e?2:1,n=document.querySelector("#board-".concat(t)),o=document.createElement("div");o.innerHTML="Player ".concat(t," lost the game !"),o.classList.add("lost"),n.style.display="block",n.innerHTML="",n.append(o)},displayMessage:function(e){var a=document.querySelector("#message-box");a.innerHTML="",a.innerText=e},hideArea:function(e){document.querySelector("#player-area-".concat(e)).style.display="none"},showArea:function(e){document.querySelector("#player-area-".concat(e)).style.display="flex"},renderPlayerChange:function(e){var a=document.createElement("div"),r=document.createElement("div");r.classList.add("change-player-message"),r.innerText="Player ".concat(e,"'s turn"),a.classList.add("change-player-popup"),a.append(r),a.addEventListener("click",function(){a.remove()}),document.querySelector("body").append(a)},clearGame:function(){document.querySelector("#board-1").innerHTML="",document.querySelector("#board-2").innerHTML="",document.querySelector("#dragable-ships-1").innerHTML="",document.querySelector("#dragable-ships-2").innerHTML=""},hideDraggableShipsArea:function(){var e=document.querySelector("#dragable-ships-1"),a=document.querySelector("#dragable-ships-2");e.style.display="none",a.style.display="none"}}}(),t=r;exports.default=t;
},{"../helpers/helpers":"m1bf"}],"XObr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./gameboard")),a=n(require("./player")),t=n(require("../views/gameboardView")),r=n(require("./ship"));function n(e){return e&&e.__esModule?e:{default:e}}var d=function(n){var d=new a.default,l=new a.default(n),i=new e.default,c=new e.default,u=function(){"pc"===l.getType()?c.autoPlaceFleet():t.default.renderDraggableShips(2),t.default.renderDraggableShips(1),o(1)},o=function(e){t.default.renderGrid(1,i),t.default.renderGrid(2,c),t.default.hideArea(1===e?2:1),t.default.showArea(1===e?1:2),f(e)},f=function(e){t.default.displayMessage("Player ".concat(e," : Place your fleet"));var a=document.querySelector("#player-area-".concat(e));a.querySelectorAll("#board-".concat(e," .cell")).forEach(function(e){e.addEventListener("drop",h),e.addEventListener("dragover",function(e){return e.preventDefault()})}),a.querySelectorAll(".ship-draggable-cell").forEach(function(e){return e.addEventListener("mouseover",p)}),a.querySelectorAll(".draggable-ship").forEach(function(e){e.draggable=!0,e.addEventListener("dragstart",s),e.addEventListener("dblclick",g)}),document.querySelectorAll("#player-area-".concat(1===e?2:1," .draggable-ship")).forEach(function(e){return e.draggable=!1})},s=function(e){e.dataTransfer.setData("name",e.target.dataset.name),e.dataTransfer.setData("index",e.target.dataset.clickedIndex),e.dataTransfer.setData("orientation",e.target.dataset.orientation)},g=function(e){e.currentTarget.dataset.orientation="vertical"===e.currentTarget.dataset.orientation?"horizontal":"vertical"},p=function(e){e.target.closest(".draggable-ship").dataset.clickedIndex=e.target.dataset.index},h=function(e){var a,n=e.target.dataset.x,d=e.target.dataset.y,u=e.target.closest(".board").dataset.id,f=e.dataTransfer.getData("name"),s=e.dataTransfer.getData("orientation"),g=e.dataTransfer.getData("index");"horizontal"===s?d-=g:n-=g,a="1"===u?i:c;var p=new r.default(f);("vertical"===s&&p.flip(),a.placeShip(p,n,d))&&document.querySelector("#player-area-".concat(u," .").concat(f,".draggable-ship")).remove();i.areAllShipsPlaced()&&c.areAllShipsPlaced()?(t.default.hideDraggableShipsArea(),v(1)):"pc"!==l.getType()&&i.areAllShipsPlaced()?o(2):o(1)},v=function(e){var a=1!==e,r=2!==e;t.default.renderGrid(1,i,!a),t.default.renderGrid(2,c,!r),"pc"===l.getType()?(t.default.showArea(1),t.default.showArea(2),t.default.renderGrid(1,i,!1),t.default.renderGrid(2,c,!0),y(e)):setTimeout(function(){t.default.showArea(1),t.default.showArea(2),t.default.renderPlayerChange(e),t.default.renderGrid(1,i,a),t.default.renderGrid(2,c,r),y(e)},1e3)},y=function(e){t.default.displayMessage("Player ".concat(e,"' turn"));var a=document.querySelectorAll("#board-".concat(e," > .cell"));document.querySelectorAll("#board-".concat(1===e?2:1," > .cell")).forEach(function(e){e.addEventListener("click",S)}),a.forEach(function(e){e.removeEventListener("click",S)})},S=function(e){var a=e.currentTarget.closest(".board").dataset.id,t=e.currentTarget.dataset.x,r=e.currentTarget.dataset.y;if("1"===a){if(!l.attack(i,t,r))return}else if("2"===a&&!d.attack(c,t,r))return;i.areAllShipsSunk()||c.areAllShipsSunk()?A():"pc"===l.getType()?(l.autoAttack(i),v(1)):v("1"===a?1:2)},A=function(){var e;i.areAllShipsSunk()?e=1:c.areAllShipsSunk()&&(e=2),t.default.renderWinner(e)};return{playerOne:d,playerTwo:l,resetGame:function(r){d=new a.default,l=new a.default(r),i=new e.default,c=new e.default,t.default.clearGame(),u()},initializeGame:u}},l=d;exports.default=l;
},{"./gameboard":"QhX3","./player":"TR5A","../views/gameboardView":"DYmX","./ship":"mOu6"}],"Focm":[function(require,module,exports) {
"use strict";var e=t(require("./modules/factories/game"));function t(e){return e&&e.__esModule?e:{default:e}}var u=document.querySelector("#reset-game"),a=document.querySelector("#game-type-selector"),r=new e.default(a.value);r.initializeGame(),u.addEventListener("click",function(){(r=new e.default(a.value)).resetGame(a.value)});
},{"./modules/factories/game":"XObr"}]},{},["Focm"], null)